import{a as z,b as u,c as H,d as J,e as U,f as X,g as K,h as L,i as Q,j as W,k as Y,l as Z,m as ee,n as te}from"./chunk-BNXNQ3EU.js";import{a as h}from"./chunk-YBC6IJR5.js";import{a as oe}from"./chunk-OY3KGHSM.js";import"./chunk-NAK6CJAR.js";import{a as le}from"./chunk-KBHTHLET.js";import{c as $}from"./chunk-VOVRNMR7.js";import{a as G}from"./chunk-MMJEDWD7.js";import{Aa as f,Ja as m,La as s,Na as r,Oa as e,Pa as d,Qa as j,Ra as v,Sa as C,Ta as D,V as N,Ya as a,Za as R,_ as A,ab as y,d as ae,da as _,f as w,la as F,ma as O,ra as M,rb as B,sb as E,xa as V,za as c}from"./chunk-O6UQK4GM.js";var x=ae(le());var re=(()=>{let t=class t{constructor(n){this.http=n,this.paises=[],this.ruta="https://restcountries.com/v3.1/all"}TraerPaises(){return new Promise((n,l)=>{this.http.get(this.ruta).subscribe(o=>{let k=o.filter(p=>p.region==="Europe"),I=o.filter(p=>p.region==="Africa"),b=[];for(let p=0;p<3;p++){let T=k[p],P=new h;P.bandera=T.flags.png,P.nombre=T.name.common,P.informacion=T,b.push(P);let q=I[p],S=new h;S.bandera=q.flags.png,S.nombre=q.name.common,S.informacion=q,b.push(S)}console.log(b),n(b)},o=>{l(o)})})}};t.\u0275fac=function(l){return new(l||t)(A(G))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function se(i,t){i&1&&(r(0,"th"),a(1,"Seleccionar"),e())}function me(i,t){if(i&1){let g=j();r(0,"td")(1,"button",4),v("click",function(){F(g);let l=C().$implicit,o=C();return O(o.seleccionar(l))}),a(2,"X"),e()()}}function de(i,t){if(i&1&&(r(0,"tr")(1,"td"),a(2),e(),r(3,"td"),d(4,"img",3),e(),m(5,me,3,0,"td",1),e()),i&2){let g=t.$implicit,n=C();c(2),R(g.nombre),c(2),D("alt",g.bandera),s("src",g.bandera,V),c(),s("ngIf",n.mostrarSeleccionar)}}var ne=(()=>{let t=class t{constructor(n,l){this.paisesService=n,this.router=l,this.paises=[],this.mostrarSeleccionar=!0,this.cargarPaises=!0,this.eventPaisSeleccionado=new M}ngOnInit(){return w(this,null,function*(){this.cargarPaises&&this.paisesService.TraerPaises().then(n=>{this.paises=n})})}seleccionar(n){this.router.navigate(["producto/alta"]),this.eventPaisSeleccionado.emit(n)}};t.\u0275fac=function(l){return new(l||t)(f(re),f($))},t.\u0275cmp=_({type:t,selectors:[["app-tabla-paises"]],inputs:{paises:"paises",mostrarSeleccionar:"mostrarSeleccionar",cargarPaises:"cargarPaises"},outputs:{eventPaisSeleccionado:"eventPaisSeleccionado"},standalone:!0,features:[y],decls:11,vars:2,consts:[[1,"row"],[4,"ngIf"],[4,"ngFor","ngForOf"],["width","100",3,"src","alt"],[1,"btn","btn-primary",3,"click"]],template:function(l,o){l&1&&(r(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),a(5,"Pais"),e(),r(6,"th"),a(7,"Bandera"),e(),m(8,se,2,0,"th",1),e()(),r(9,"tbody"),m(10,de,6,4,"tr",2),e()()()),l&2&&(c(8),s("ngIf",o.mostrarSeleccionar),c(2),s("ngForOf",o.paises))},dependencies:[B,E],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}img[_ngcontent-%COMP%]{max-width:100px;height:auto;display:block;margin:0 auto}"]});let i=t;return i})();function pe(i,t){i&1&&(r(0,"div",28),a(1," Codigo es requerido "),e())}function ue(i,t){i&1&&(r(0,"div",28),a(1," Descripcion es requerido "),e())}function fe(i,t){i&1&&(r(0,"div",28),a(1," Precio es requerido "),e())}function ge(i,t){i&1&&(r(0,"div",28),a(1," Stock es requerido "),e())}function ve(i,t){i&1&&(r(0,"div",28),a(1," Comestible es requerido "),e())}function he(i,t){i&1&&(r(0,"div",28),a(1," Pais es requerido "),e())}var Oe=(()=>{let t=class t{constructor(n,l){this.formBuilder=n,this.productoService=l,this.pais=new h,this.formProducto=this.formBuilder.group({codigo:["",[u.required]],descripcion:["",[u.required]],precio:["",[u.required]],stock:["",[u.required]],comestible:[!0,[u.required]],pais:["",[u.required]]})}registrarProducto(){if(this.formProducto.valid){let n={codigo:this.formProducto.value.codigo,descripcion:this.formProducto.value.descripcion,precio:this.formProducto.value.precio,stock:this.formProducto.value.stock,comestible:this.formProducto.value.comestible,pais:JSON.stringify(this.pais)};this.productoService.agregarProducto(n).then(l=>{x.default.fire("","Producto guardado de manera correcta","success")}).catch(l=>{x.default.fire("","Error al guardar el producto","error"),console.log(l)}),this.formProducto.reset()}else x.default.fire("ERROR","Verifique los datos ingresados","error")}cargarPais(n){this.pais=n,n.nombre&&this.formProducto.get("pais")?.setValue(n.nombre),console.log(this.pais)}};t.\u0275fac=function(l){return new(l||t)(f(ee),f(oe))},t.\u0275cmp=_({type:t,selectors:[["app-alta"]],standalone:!0,features:[y],decls:54,vars:9,consts:[[1,"bg-light"],[1,"container"],[1,"row"],[1,"col-md-8","order-md-2","mb-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed"],[3,"eventPaisSeleccionado","mostrarSeleccionar","cargarPaises"],[1,"col-md-4","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],["for","username"],["style","color: red;",4,"ngIf"],[1,"input-group"],["type","number","placeholder","Codigo","formControlName","codigo","name","codigo",1,"form-control"],["type","text","placeholder","Descripcion","formControlName","descripcion","name","descripcion",1,"form-control"],["type","number","placeholder","Precio","formControlName","precio","name","precio",1,"form-control"],["for","email"],["type","number","placeholder","Stock","formControlName","stock","name","stock",1,"form-control"],["for","unidadPropia"],["formControlName","comestible","name","comestible",1,"form-control"],["value","true","selected",""],["value","false"],["for","country"],["id","country","required","","readonly","","formControlName","pais","name","pais",1,"custom-select","d-block","w-100"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[2,"color","red"]],template:function(l,o){l&1&&(r(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4)(5,"span",5),a(6,"Tabla paises"),e()(),r(7,"ul",6)(8,"li",7)(9,"app-tabla-paises",8),v("eventPaisSeleccionado",function(I){return o.cargarPais(I)}),e()()()(),r(10,"div",9)(11,"h4",10),a(12,"Alta producto"),e(),r(13,"form",11)(14,"div",10)(15,"label",12),a(16,"Codigo"),e(),m(17,pe,2,0,"div",13),r(18,"div",14),d(19,"input",15),e()(),r(20,"div",10)(21,"label",12),a(22,"Descripcion"),e(),m(23,ue,2,0,"div",13),r(24,"div",14),d(25,"input",16),e()(),r(26,"div",10)(27,"label",12),a(28,"Precio"),e(),m(29,fe,2,0,"div",13),r(30,"div",14),d(31,"input",17),e()(),r(32,"div",10)(33,"label",18),a(34,"Stock"),e(),m(35,ge,2,0,"div",13),d(36,"input",19),e(),r(37,"div",10)(38,"label",20),a(39,"Comestible"),e(),m(40,ve,2,0,"div",13),r(41,"select",21)(42,"option",22),a(43,"True"),e(),r(44,"option",23),a(45,"False"),e()()(),r(46,"div",10)(47,"label",24),a(48,"Pais"),e(),m(49,he,2,0,"div",13),d(50,"input",25),e(),d(51,"hr",26),r(52,"button",27),v("click",function(){return o.registrarProducto()}),a(53,"Registrar"),e()()()()()()),l&2&&(c(9),s("mostrarSeleccionar",!0)("cargarPaises",!0),c(4),s("formGroup",o.formProducto),c(4),s("ngIf",(o.formProducto.controls.codigo.errors==null?null:o.formProducto.controls.codigo.errors.required)&&o.formProducto.controls.codigo.touched),c(6),s("ngIf",(o.formProducto.controls.descripcion.errors==null?null:o.formProducto.controls.descripcion.errors.required)&&o.formProducto.controls.descripcion.touched),c(6),s("ngIf",(o.formProducto.controls.precio.errors==null?null:o.formProducto.controls.precio.errors.required)&&o.formProducto.controls.precio.touched),c(6),s("ngIf",(o.formProducto.controls.stock.errors==null?null:o.formProducto.controls.stock.errors.required)&&o.formProducto.controls.stock.touched),c(5),s("ngIf",(o.formProducto.controls.comestible.errors==null?null:o.formProducto.controls.comestible.errors.required)&&o.formProducto.controls.comestible.touched),c(9),s("ngIf",(o.formProducto.controls.pais.errors==null?null:o.formProducto.controls.pais.errors.required)&&o.formProducto.controls.pais.touched))},dependencies:[E,ne,te,U,W,Y,z,X,Q,H,J,Z,K,L]});let i=t;return i})();export{Oe as AltaComponent};
