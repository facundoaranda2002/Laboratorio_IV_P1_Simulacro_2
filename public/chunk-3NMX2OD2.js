import{a as V,b as g,c as P,d as k,e as N,f as j,g as D,h as A,l as B,m as R,n as Q}from"./chunk-BNXNQ3EU.js";import{A as z,B as ie,C as H,D as ne,F as oe,x as te,z as re}from"./chunk-NAK6CJAR.js";import{a as X}from"./chunk-KBHTHLET.js";import{Aa as C,Ja as m,La as d,Na as a,Oa as n,Pa as u,Qa as O,Ra as p,Sa as T,V as W,Va as w,Wa as M,Xa as q,Ya as c,Za as I,_ as Y,_a as Z,ab as h,d as $,da as f,f as E,la as _,ma as y,ra as v,rb as ee,sb as x,za as l}from"./chunk-O6UQK4GM.js";var b=(()=>{let i=class i{constructor(e){this.firestore=e,this.containers=[]}agregarContainer(e){let t=z(this.firestore,"container");return re(t,e)}borrarContainers(e){return E(this,null,function*(){try{let t=z(this.firestore,"container"),r=H(t,e.id);return yield ie(r),!0}catch(t){return console.error("Error al borrar el container: ",t),!1}})}modificarContainers(e){return E(this,null,function*(){try{let t=z(this.firestore,"container"),r=H(t,e.id);return yield oe(r,{color:e.color,empresa:e.empresa,capacidad:e.capacidad}),!0}catch(t){return console.error("Error al modificar el container: ",t),!1}})}getContainers(){return E(this,null,function*(){let e=yield ne(z(this.firestore,"container"));return this.containers=[],e.forEach(t=>{let r=t.data();r.id=t.id,this.containers.push(r)}),this.containers})}};i.\u0275fac=function(t){return new(t||i)(Y(te))},i.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function me(o,i){o&1&&(a(0,"th"),c(1,"Seleccionar"),n())}function pe(o,i){if(o&1){let S=O();a(0,"td")(1,"button",3),p("click",function(){_(S);let t=T().$implicit,r=T();return y(r.seleccionar(t))}),c(2,"X"),n()()}}function ue(o,i){if(o&1&&(a(0,"tr")(1,"td"),c(2),n(),a(3,"td"),c(4),n(),a(5,"td"),c(6),n(),a(7,"td"),c(8),n(),m(9,pe,3,0,"td",1),n()),o&2){let S=i.$implicit,e=T();l(2),I(S.codigo),l(2),I(S.color),l(2),I(S.empresa),l(2),I(S.capacidad),l(),d("ngIf",e.mostrarSeleccionar)}}var ae=(()=>{let i=class i{constructor(e){this.containerService=e,this.containeres=[],this.mostrarSeleccionar=!0,this.eventContainerSeleccionada=new v}ngOnInit(){return E(this,null,function*(){this.actualizar()})}actualizar(){this.containerService.getContainers().then(e=>{this.containeres=e})}seleccionar(e){this.eventContainerSeleccionada.emit(e)}};i.\u0275fac=function(t){return new(t||i)(C(b))},i.\u0275cmp=f({type:i,selectors:[["app-tabla-container"]],inputs:{mostrarSeleccionar:"mostrarSeleccionar"},outputs:{eventContainerSeleccionada:"eventContainerSeleccionada"},standalone:!0,features:[h],decls:15,vars:2,consts:[[1,"row"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(a(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),c(5,"Codigo"),n(),a(6,"th"),c(7,"Color"),n(),a(8,"th"),c(9,"Empresa"),n(),a(10,"th"),c(11,"Capacidad"),n(),m(12,me,2,0,"th",1),n()(),a(13,"tbody"),m(14,ue,10,5,"tr",2),n()()()),t&2&&(l(12),d("ngIf",r.mostrarSeleccionar),l(2),d("ngForOf",r.containeres))},dependencies:[x,ee],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}img[_ngcontent-%COMP%]{max-width:100px;height:auto;display:block;margin:0 auto}"]});let o=i;return o})();var J=$(X());function Ce(o,i){o&1&&(a(0,"div",8),c(1," Color es requerido "),n())}function he(o,i){o&1&&(a(0,"div",8),c(1," Empresa es requerido "),n())}function ge(o,i){o&1&&(a(0,"div",8),c(1," Capacidad es requerido "),n())}var ce=(()=>{let i=class i{constructor(e,t){this.formBuilder=e,this.containerService=t,this.esValidoPeso=!1,this.actualizar=new v,this.formContainer=this.formBuilder.group({capacidad:["",[g.required]],color:["",[g.required]],empresa:["",[g.required]]})}limpiarForm(){this.formContainer.reset()}valores(e){e.capacidad&&e.color&&e.empresa&&(this.formContainer.get("capacidad")?.setValue(String(e.capacidad)),this.formContainer.get("color")?.setValue(String(e.color)),this.formContainer.get("empresa")?.setValue(String(e.empresa)))}modificar(){if(this.formContainer.valid){let e={id:this.container?.id,capacidad:this.formContainer.value.capacidad,color:this.formContainer.value.color,empresa:this.formContainer.value.empresa};this.containerService.modificarContainers(e).then(t=>{J.default.fire("","Container se modifico de manera correcta","success"),this.actualizar.emit(!0)}).catch(t=>{J.default.fire("","Error al modificar container","error"),console.log(t)}),this.formContainer.reset()}}};i.\u0275fac=function(t){return new(t||i)(C(R),C(b))},i.\u0275cmp=f({type:i,selectors:[["app-modificar-container"]],inputs:{container:"container"},outputs:{actualizar:"actualizar"},standalone:!0,features:[h],decls:16,vars:4,consts:[[3,"formGroup"],["for","ingredientes"],["type","text","id","color","formControlName","color","name","color","required",""],["style","color: red;",4,"ngIf"],["for","precio"],["type","text","id","empresa","formControlName","empresa","name","empresa","required",""],["type","number","id","capacidad","formControlName","capacidad","name","capacidad","required",""],["type","button",1,"w-100","btn","btn-lg","btn-outline-primary",3,"click"],[2,"color","red"]],template:function(t,r){t&1&&(a(0,"form",0)(1,"label",1),c(2,"Color:"),n(),u(3,"input",2),m(4,Ce,2,0,"div",3),a(5,"label",4),c(6,"Empresa:"),n(),u(7,"input",5),m(8,he,2,0,"div",3),a(9,"label",4),c(10,"Capacidad:"),n(),u(11,"input",6),m(12,ge,2,0,"div",3),n(),u(13,"br"),a(14,"button",7),p("click",function(){return r.modificar()}),c(15,"Modificar"),n()),t&2&&(d("formGroup",r.formContainer),l(4),d("ngIf",(r.formContainer.controls.color.errors==null?null:r.formContainer.controls.color.errors.required)&&r.formContainer.controls.color.touched),l(4),d("ngIf",(r.formContainer.controls.empresa.errors==null?null:r.formContainer.controls.empresa.errors.required)&&r.formContainer.controls.empresa.touched),l(4),d("ngIf",(r.formContainer.controls.capacidad.errors==null?null:r.formContainer.controls.capacidad.errors.required)&&r.formContainer.controls.capacidad.touched))},dependencies:[x,Q,N,V,j,P,k,B,D,A],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{display:block;margin-bottom:10px}input[type=number][_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let o=i;return o})();var K=$(X());var le=(()=>{let i=class i{constructor(e){this.containerService=e,this.actualizar=new v}limpiarForm(){this.container?.codigo&&(this.container.codigo="")}borrar(){this.container?.codigo&&(this.container.codigo="",this.containerService.borrarContainers(this.container).then(e=>{e?(K.default.fire("","Container borrado de manera correcta","success"),this.actualizar.emit(!0)):K.default.fire("ERROR","El container no se pudo borrar","error")}))}};i.\u0275fac=function(t){return new(t||i)(C(b))},i.\u0275cmp=f({type:i,selectors:[["app-baja-container"]],inputs:{container:"container"},outputs:{actualizar:"actualizar"},standalone:!0,features:[h],decls:4,vars:1,consts:[["type","button",1,"w-100","btn","btn-lg","btn-outline-primary",3,"click"]],template:function(t,r){t&1&&(a(0,"p"),c(1),n(),a(2,"button",0),p("click",function(){return r.borrar()}),c(3,"Borrar"),n()),t&2&&(l(),Z("Codigo-Container a borrar: ",r.container==null?null:r.container.codigo,""))}});let o=i;return o})();var U=$(X());function ve(o,i){o&1&&(a(0,"div",10),c(1," Codigo es requerido "),n())}function be(o,i){o&1&&(a(0,"div",10),c(1," Color es requerido "),n())}function _e(o,i){o&1&&(a(0,"div",10),c(1," Empresa es requerido "),n())}function ye(o,i){o&1&&(a(0,"div",10),c(1," Capacidad es requerido "),n())}var de=(()=>{let i=class i{constructor(e,t){this.formBuilder=e,this.containerService=t,this.esValidoPeso=!1,this.actualizar=new v,this.formContainer=this.formBuilder.group({codigo:["",[g.required]],capacidad:["",[g.required]],color:["",[g.required]],empresa:["",[g.required]]})}limpiarForm(){this.formContainer.reset()}alta(){if(this.formContainer.valid){let e={codigo:this.formContainer.value.codigo,capacidad:this.formContainer.value.capacidad,color:this.formContainer.value.color,empresa:this.formContainer.value.empresa};this.containerService.agregarContainer(e).then(t=>{U.default.fire("","Container se guardado de manera correcta","success"),this.actualizar.emit(!0)}).catch(t=>{U.default.fire("","Error al guardar el container","error"),console.log(t)}),this.formContainer.reset()}}};i.\u0275fac=function(t){return new(t||i)(C(R),C(b))},i.\u0275cmp=f({type:i,selectors:[["app-alta-container"]],outputs:{actualizar:"actualizar"},standalone:!0,features:[h],decls:20,vars:5,consts:[[3,"formGroup"],["for","nombre"],["type","text","id","codigo","required","","formControlName","codigo","name","codigo"],["style","color: red;",4,"ngIf"],["for","ingredientes"],["type","text","id","color","formControlName","color","name","color","required",""],["for","precio"],["type","text","id","empresa","formControlName","empresa","name","empresa","required",""],["type","number","id","capacidad","formControlName","capacidad","name","capacidad","required",""],["type","button",1,"w-100","btn","btn-lg","btn-outline-primary",3,"click"],[2,"color","red"]],template:function(t,r){t&1&&(a(0,"form",0)(1,"label",1),c(2,"Codigo:"),n(),u(3,"input",2),m(4,ve,2,0,"div",3),a(5,"label",4),c(6,"Color:"),n(),u(7,"input",5),m(8,be,2,0,"div",3),a(9,"label",6),c(10,"Empresa:"),n(),u(11,"input",7),m(12,_e,2,0,"div",3),a(13,"label",6),c(14,"Capacidad:"),n(),u(15,"input",8),m(16,ye,2,0,"div",3),n(),u(17,"br"),a(18,"button",9),p("click",function(){return r.alta()}),c(19,"Crear"),n()),t&2&&(d("formGroup",r.formContainer),l(4),d("ngIf",(r.formContainer.controls.codigo.errors==null?null:r.formContainer.controls.codigo.errors.required)&&r.formContainer.controls.codigo.touched),l(4),d("ngIf",(r.formContainer.controls.color.errors==null?null:r.formContainer.controls.color.errors.required)&&r.formContainer.controls.color.touched),l(4),d("ngIf",(r.formContainer.controls.empresa.errors==null?null:r.formContainer.controls.empresa.errors.required)&&r.formContainer.controls.empresa.touched),l(4),d("ngIf",(r.formContainer.controls.capacidad.errors==null?null:r.formContainer.controls.capacidad.errors.required)&&r.formContainer.controls.capacidad.touched))},dependencies:[x,Q,N,V,j,P,k,B,D,A],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{display:block;margin-bottom:10px}input[type=number][_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let o=i;return o})();var Se=["tablaContainer"],Ee=["inputModificar"],xe=["inputBaja"],we=["inputAlta"],nt=(()=>{let i=class i{mostrar(e){this.containerSeleccionada=e,this.inputModificar?.valores(e)}actualizarLista(){this.tabla?.actualizar(),this.inputModificar?.limpiarForm(),this.inputAlta?.limpiarForm(),this.inputBaja?.limpiarForm()}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f({type:i,selectors:[["app-container"]],viewQuery:function(t,r){if(t&1&&(w(Se,5),w(Ee,5),w(xe,5),w(we,5)),t&2){let s;M(s=q())&&(r.tabla=s.first),M(s=q())&&(r.inputModificar=s.first),M(s=q())&&(r.inputBaja=s.first),M(s=q())&&(r.inputAlta=s.first)}},standalone:!0,features:[h],decls:34,vars:2,consts:[["tablaContainer",""],["inputAlta",""],["inputBaja",""],["inputModificar",""],[1,"row"],[1,"container","py-3"],[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal"],[3,"eventContainerSeleccionada"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center"],[1,"col"],[1,"card","mb-4","rounded-3","shadow-sm"],[1,"card-header","py-3"],[1,"my-0","fw-normal"],[1,"card-body"],[3,"actualizar"],[3,"actualizar","container"]],template:function(t,r){if(t&1){let s=O();a(0,"div",4)(1,"div",5)(2,"header")(3,"div",6)(4,"h1",7),c(5,"Container"),n(),a(6,"app-tabla-container",8,0),p("eventContainerSeleccionada",function(se){return _(s),y(r.mostrar(se))}),n()()(),a(8,"main")(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"h4",13),c(14,"Alta"),n()(),a(15,"div",14)(16,"app-alta-container",15,1),p("actualizar",function(){return _(s),y(r.actualizarLista())}),n()()()(),a(18,"div",10)(19,"div",11)(20,"div",12)(21,"h4",13),c(22,"Baja"),n()(),a(23,"div",14)(24,"app-baja-container",16,2),p("actualizar",function(){return _(s),y(r.actualizarLista())}),n()()()(),a(26,"div",10)(27,"div",11)(28,"div",12)(29,"h4",13),c(30,"Modificacion"),n()(),a(31,"div",14)(32,"app-modificar-container",16,3),p("actualizar",function(){return _(s),y(r.actualizarLista())}),n()()()()()()()()}t&2&&(l(24),d("container",r.containerSeleccionada),l(8),d("container",r.containerSeleccionada))},dependencies:[ae,ce,le,de],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]});let o=i;return o})();export{nt as ContainerComponent};
